<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz - Trouvez votre Race</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-image: url('https://c4.wallpaperflare.com/wallpaper/714/353/236/total-war-warhammer-iii-warhammer-khorne-hd-wallpaper-preview.jpg');
            background-size: cover;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        h1 {
            margin-bottom: 20px;
            text-align: center;
        }

        #quiz-container {
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 10px;
            width: 80%;
            max-width: 600px;
            text-align: center;
            position: relative; /* Added for positioning */
        }

        .choice {
            background-color: #444;
            border: none;
            color: white;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .choice:hover {
            background-color: #555;
        }

        .selected {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .grayed {
            background-color: rgba(255, 255, 255, 0.1);
        }

        #next-btn {
            background-color: #28a745;
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 15px;
        }

        #next-btn:hover {
            background-color: #218838;
        }

        #result-container {
            display: none;
            margin-top: 20px;
        }

        #retry-btn {
            background-color: #007bff;
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
        }

        #retry-btn:hover {
            background-color: #0069d9;
        }

        #confetti {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            display: none;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            opacity: 0.7;
            border-radius: 50%;
            pointer-events: none;
            will-change: transform;
        }

        footer {
            position: absolute;
            bottom: 0px; /* Moved footer up */
            text-align: center;
            width: 100%;
            color: white;
        }

        a {
            color: white;
            text-decoration: none;
            margin: 0 10px;
        }

        img.logo {
            position: absolute;
            top: -100px; /* Adjusted to move the logo higher */
            left: 50%;
            transform: translateX(-50%);
            width: 100px; /* Optional: Change the width as needed */
        }

    </style>
</head>
<body>
    <div id="quiz-container">
        <img class="logo" src="https://i.ibb.co/dmghmxG/logo-samos.png" alt="Logo Samos">
        <h1>Trouvez votre Race dans Warhammer</h1>
        <div id="question-text"></div>
        <div>
            <button class="choice" data-choice="A"></button>
            <button class="choice" data-choice="B"></button>
            <button class="choice" data-choice="C"></button>
            <button class="choice" data-choice="D"></button>
        </div>
        <button id="next-btn" class="hidden">Suivant</button>
    </div>

    <div id="result-container">
        <h2 id="result-text"></h2>
        <button id="retry-btn">Réessayer</button>
    </div>

    <div id="confetti"></div>

    <footer>
        <p>Créé par <strong>Samos Le Sage</strong></p>
        <p>
            <a href="https://www.twitch.tv/samoslesage" target="_blank">Twitch</a>
            <a href="https://link.space/@samoslesage" target="_blank">Réseaux Sociaux</a>
        </p>
    </footer>

    <script>
        const questions = [
            {
                question: "Quelle est votre vision de l'avenir ?",
                choices: ["Un avenir prospère", "Un empire puissant", "Une coexistence harmonieuse", "Un monde chaotique"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel est votre plus grand peur ?",
                choices: ["L'échec", "La pauvreté", "La perte de mon peuple", "Le chaos"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel type de héros admirez-vous le plus ?",
                choices: ["Le stratège", "Le guerrier", "L'artiste", "Le sorcier"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quelle est votre façon préférée de vous divertir ?",
                choices: ["Organiser des événements", "Faire la fête", "Réaliser des œuvres d'art", "Détruire des choses"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Comment envisagez-vous votre héritage ?",
                choices: ["Une dynastie forte", "Un trésor inestimable", "Une culture florissante", "Un chaos mémorable"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel est votre plat préféré ?",
                choices: ["Un banquet royal", "Un festin de viandes", "Des fruits de mer", "Une potion mystérieuse"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Que feriez-vous avec un trésor ?",
                choices: ["Construire un empire", "Acheter de l'influence", "Partager avec mon peuple", "Le détruire"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quelle est votre approche de la magie ?",
                choices: ["Elle doit être utilisée avec prudence", "Elle est une arme puissante", "Elle est une forme d'art", "Elle doit être maîtrisée"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel est votre type de vêtement préféré ?",
                choices: ["Uniforme soigné", "Armure robuste", "Robe élégante", "Tuniques sombres"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Que pensez-vous de l'innovation ?",
                choices: ["Elle est nécessaire", "Elle doit être utilisée avec prudence", "Elle est une tradition", "Elle est une folie"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel est votre rapport à la nature ?",
                choices: ["Elle doit être respectée", "Elle est source de ressources", "Elle est belle", "Elle est à contrôler"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Que feriez-vous en cas de danger ?",
                choices: ["Évaluer la situation", "Agir avec force", "Chercher des alliés", "Se retirer"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel est votre rapport à l'histoire ?",
                choices: ["Elle est un guide", "Elle est une fable", "Elle est une légende", "Elle est un cycle"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel rôle jouez-vous dans votre groupe ?",
                choices: ["Le leader", "Le protecteur", "Le diplomate", "Le provocateur"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel type de lieu préférez-vous ?",
                choices: ["Une grande ville", "Une montagne", "Un port", "Une forteresse"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quelle est votre devise ?",
                choices: ["Un pour tous", "La force dans l'unité", "La beauté dans l'art", "Tout doit être détruit"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel est votre but dans la vie ?",
                choices: ["Devenir un héros", "Construire un empire", "Créer une œuvre d'art", "Détruire l'ennemi"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel est votre sentiment face à l'autorité ?",
                choices: ["Je la respecte", "Je la défie", "Je la conteste", "Je l'ignore"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel type de leader seriez-vous ?",
                choices: ["Un stratège", "Un guerrier", "Un visionnaire", "Un tyran"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel est votre rapport au changement ?",
                choices: ["Il est nécessaire", "Il doit être contrôlé", "Il est inévitable", "Il est destructeur"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quelle est votre principale force ?",
                choices: ["La capacité d'adaptation", "La puissance", "L'intelligence", "Le charisme"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Comment gérez-vous le stress ?",
                choices: ["Je fais une pause", "Je me bats", "Je crée", "Je provoque le chaos"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel type de musique préférez-vous ?",
                choices: ["Classique", "Énergique", "Traditionnelle", "Bruit"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel est votre plus grand rêve ?",
                choices: ["Gagner une bataille", "Devenir riche", "Créer une œuvre d'art", "Régner sur le chaos"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel animal vous représente le mieux ?",
                choices: ["Un aigle", "Un lion", "Un cerf", "Un serpent"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel type de paysage préférez-vous ?",
                choices: ["Une ville prospère", "Une montagne majestueuse", "Une forêt enchantée", "Un marécage sombre"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quelle est votre couleur préférée ?",
                choices: ["Rouge", "Or", "Bleu", "Noir"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Que représente la liberté pour vous ?",
                choices: ["Une chance de se réaliser", "Une occasion de se battre", "Un droit sacré", "Un concept à détruire"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel héros historique admirez-vous le plus ?",
                choices: ["Napoléon", "Alexander le Grand", "Leonidas", "Gengis Khan"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel type de livre aimez-vous lire ?",
                choices: ["Histoire", "Stratégie", "Fiction", "Mythologie"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quel est votre élément préféré ?",
                choices: ["Terre", "Feu", "Eau", "Air"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Comment réagissez-vous à la critique ?",
                choices: ["Je l'accepte", "Je la défie", "Je l'étudie", "Je l'ignore"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            },
            {
                question: "Quelle est votre vision de la guerre ?",
                choices: ["Une nécessité", "Un art", "Une tragédie", "Un moyen de contrôler le chaos"],
                points: { A: "Empire", B: "Nains", C: "Hauts Elfes", D: "Chaos" }
            }
        ];

        const points = {
            "Empire": 0,
            "Nains": 0,
            "Hauts Elfes": 0,
            "Chaos": 0
        };

        let currentQuestionIndex = 0;

        const questionText = document.getElementById("question-text");
        const choiceButtons = document.querySelectorAll(".choice");
        const nextButton = document.getElementById("next-btn");
        const resultContainer = document.getElementById("result-container");
        const resultText = document.getElementById("result-text");
        const confettiContainer = document.getElementById("confetti");
        const retryButton = document.getElementById("retry-btn");

        function showQuestion() {
            const currentQuestion = questions[currentQuestionIndex];
            questionText.textContent = currentQuestion.question;
            choiceButtons.forEach((button, index) => {
                button.textContent = currentQuestion.choices[index];
                button.classList.remove("selected", "grayed");
                button.onclick = () => selectChoice(button, currentQuestion.points);
            });
            nextButton.classList.add("hidden");
        }

        function selectChoice(button, pointsToAdd) {
            // Toggle selection
            if (button.classList.contains("selected")) {
                button.classList.remove("selected");
            } else {
                choiceButtons.forEach(btn => {
                    btn.classList.remove("selected");
                    btn.classList.add("grayed"); // Griser les autres boutons
                });
                button.classList.add("selected");
            }

            nextButton.classList.toggle("hidden", !document.querySelector('.choice.selected'));
        }

        function showResult() {
            const maxPointsRace = Object.keys(points).reduce((a, b) => points[a] > points[b] ? a : b);
            resultText.textContent = `Vous êtes le mieux adapté à la race : ${maxPointsRace}!`;
            resultContainer.style.display = "block";
            confettiContainer.style.display = "block";
            generateConfetti();
        }

        function generateConfetti() {
            const count = 200;
            for (let i = 0; i < count; i++) {
                createConfetti();
            }
        }

        function createConfetti() {
            const confetti = document.createElement("div");
            confetti.className = "confetti";
            confetti.style.backgroundColor = getRandomColor();
            confetti.style.left = `${Math.random() * 100}vw`;
            confetti.style.animationDuration = `${Math.random() * 2 + 2}s`;
            confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
            document.getElementById("confetti").appendChild(confetti);
            setTimeout(() => confetti.remove(), 4000);
        }

        function getRandomColor() {
            const colors = ["#ff5733", "#33ff57", "#3357ff", "#ff33a1", "#ff9933"];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        nextButton.onclick = () => {
            const selectedButton = document.querySelector('.choice.selected');
            if (selectedButton) {
                const selectedChoice = selectedButton.dataset.choice;
                const currentPoints = questions[currentQuestionIndex].points;
                for (const race in currentPoints) {
                    points[currentPoints[race]] += selectedChoice === race ? 1 : 0;
                }
                currentQuestionIndex++;
                if (currentQuestionIndex < questions.length) {
                    showQuestion();
                } else {
                    showResult();
                }
            }
        };

        retryButton.onclick = () => {
            points["Empire"] = 0;
            points["Nains"] = 0;
            points["Hauts Elfes"] = 0;
            points["Chaos"] = 0;
            currentQuestionIndex = 0;
            resultContainer.style.display = "none";
            confettiContainer.style.display = "none";
            showQuestion();
            nextButton.classList.add("hidden");
        };

        showQuestion();
    </script>
</body>
</html>
